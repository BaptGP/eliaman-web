{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/baptisteblacksheep/Documents/PERSO/ELIAMAN/VITRINE/src/lib/sanity.js"],"sourcesContent":["import { createClient } from \"@sanity/client\";\n\nexport const getImageUrl = (image) => {\n  if (!image) return null;\n  if (typeof image === \"string\") return image;\n  if (image.asset?.url) return image.asset.url;\n  if (image.url) return image.url;\n  return null;\n};\n\nconst projectId = process.env.NEXT_PUBLIC_SANITY_PROJECT_ID || \"\";\nconst dataset = process.env.NEXT_PUBLIC_SANITY_DATASET || \"production\";\nconst token = process.env.NEXT_PUBLIC_SANITY_API_READ_TOKEN || \"\";\nconst apiVersion = \"2024-01-01\";\n\nlet sanityClient = null;\n\nif (projectId) {\n  sanityClient = createClient({\n    projectId,\n    dataset,\n    apiVersion,\n    token,\n    useCdn: false,\n  });\n}\n\nexport const fetchArticles = async () => {\n  if (!sanityClient) {\n    console.warn(\n      \"Sanity client not configured. Please set NEXT_PUBLIC_SANITY_PROJECT_ID in .env.local\"\n    );\n    return [];\n  }\n\n  const query = `*[_type == \"article\"] | order(publishedAt desc) {\n    _id,\n    title,\n    slug,\n    excerpt,\n    content,\n    image {\n      asset -> {\n        url\n      }\n    },\n    author,\n    publishedAt,\n    category\n  }`;\n\n  try {\n    const articles = await sanityClient.fetch(query);\n    return articles;\n  } catch (error) {\n    console.error(\"Error fetching articles from Sanity:\", error);\n    return [];\n  }\n};\n\nexport const fetchArticleBySlug = async (slug) => {\n  if (!sanityClient) {\n    console.warn(\n      \"Sanity client not configured. Please set NEXT_PUBLIC_SANITY_PROJECT_ID in .env.local\"\n    );\n    return null;\n  }\n\n  const query = `*[_type == \"article\" && slug.current == $slug][0] {\n    _id,\n    title,\n    slug,\n    excerpt,\n    content,\n    image {\n      asset -> {\n        url\n      }\n    },\n    author,\n    publishedAt,\n    category,\n    seo {\n      metaTitle,\n      metaDescription,\n      ogImage {\n        asset -> {\n          url\n        }\n      }\n    }\n  }`;\n\n  try {\n    const article = await sanityClient.fetch(query, { slug });\n    return article;\n  } catch (error) {\n    console.error(\"Error fetching article from Sanity:\", error);\n    return null;\n  }\n};\n\nexport const fetchArticlesByCategory = async (category) => {\n  if (!sanityClient) {\n    console.warn(\n      \"Sanity client not configured. Please set NEXT_PUBLIC_SANITY_PROJECT_ID in .env.local\"\n    );\n    return [];\n  }\n\n  const query = `*[_type == \"article\" && category == $category] | order(publishedAt desc) {\n    _id,\n    title,\n    slug,\n    excerpt,\n    image {\n      asset -> {\n        url\n      }\n    },\n    author,\n    publishedAt,\n    category\n  }`;\n\n  try {\n    const articles = await sanityClient.fetch(query, { category });\n    return articles;\n  } catch (error) {\n    console.error(\"Error fetching articles by category from Sanity:\", error);\n    return [];\n  }\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,cAAc,CAAC;IAC1B,IAAI,CAAC,OAAO,OAAO;IACnB,IAAI,OAAO,UAAU,UAAU,OAAO;IACtC,IAAI,MAAM,KAAK,EAAE,KAAK,OAAO,MAAM,KAAK,CAAC,GAAG;IAC5C,IAAI,MAAM,GAAG,EAAE,OAAO,MAAM,GAAG;IAC/B,OAAO;AACT;AAEA,MAAM,YAAY,gDAA6C;AAC/D,MAAM,UAAU,kDAA0C;AAC1D,MAAM,QAAQ,4NAAiD;AAC/D,MAAM,aAAa;AAEnB,IAAI,eAAe;AAEnB,wCAAe;IACb,eAAe,IAAA,mLAAY,EAAC;QAC1B;QACA;QACA;QACA;QACA,QAAQ;IACV;AACF;AAEO,MAAM,gBAAgB;IAC3B,IAAI,CAAC,cAAc;QACjB,QAAQ,IAAI,CACV;QAEF,OAAO,EAAE;IACX;IAEA,MAAM,QAAQ,CAAC;;;;;;;;;;;;;;GAcd,CAAC;IAEF,IAAI;QACF,MAAM,WAAW,MAAM,aAAa,KAAK,CAAC;QAC1C,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wCAAwC;QACtD,OAAO,EAAE;IACX;AACF;AAEO,MAAM,qBAAqB,OAAO;IACvC,IAAI,CAAC,cAAc;QACjB,QAAQ,IAAI,CACV;QAEF,OAAO;IACT;IAEA,MAAM,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;GAuBd,CAAC;IAEF,IAAI;QACF,MAAM,UAAU,MAAM,aAAa,KAAK,CAAC,OAAO;YAAE;QAAK;QACvD,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,OAAO;IACT;AACF;AAEO,MAAM,0BAA0B,OAAO;IAC5C,IAAI,CAAC,cAAc;QACjB,QAAQ,IAAI,CACV;QAEF,OAAO,EAAE;IACX;IAEA,MAAM,QAAQ,CAAC;;;;;;;;;;;;;GAad,CAAC;IAEF,IAAI;QACF,MAAM,WAAW,MAAM,aAAa,KAAK,CAAC,OAAO;YAAE;QAAS;QAC5D,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oDAAoD;QAClE,OAAO,EAAE;IACX;AACF"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///Users/baptisteblacksheep/Documents/PERSO/ELIAMAN/VITRINE/src/components/BlogPostClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useLanguage } from \"@/contexts/LanguageContext\";\nimport { fetchArticles, getImageUrl } from \"@/lib/sanity\";\nimport { ArrowLeft, ArrowRight, Calendar, User } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\n\ninterface Article {\n  _id: string;\n  title: string;\n  slug: { current: string };\n  excerpt: string;\n  content: string;\n  image: any;\n  author: string;\n  publishedAt: string;\n  category: string;\n  seo?: {\n    metaTitle?: string;\n    metaDescription?: string;\n    ogImage?: any;\n  };\n}\n\ninterface Props {\n  article: Article;\n}\n\nexport default function BlogPostClient({ article }: Props) {\n  const { t } = useLanguage();\n  const [relatedArticles, setRelatedArticles] = useState<Article[]>([]);\n\n  useEffect(() => {\n    const loadRelatedArticles = async () => {\n      try {\n        const allArticles = await fetchArticles();\n        const related = (allArticles || [])\n          .filter(\n            (a: Article) =>\n              a.category === article.category && a._id !== article._id\n          )\n          .slice(0, 3);\n        setRelatedArticles(related);\n      } catch (error) {\n        console.error(\"Error fetching related articles:\", error);\n      }\n    };\n\n    loadRelatedArticles();\n  }, [article]);\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"fr-FR\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  };\n\n  return (\n    <section className=\"min-h-screen bg-primary py-20 pt-32\">\n      <div className=\"container mx-auto px-6\">\n        <Link\n          href=\"/blog\"\n          className=\"inline-flex items-center gap-2 text-accent font-poppins font-semibold hover:gap-3 transition-all mb-8\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          {t.blog.backToBlog}\n        </Link>\n\n        <article className=\"max-w-3xl mx-auto\">\n          {article.category && (\n            <span className=\"inline-block bg-accent/10 text-accent px-4 py-2 rounded-full text-sm font-poppins font-semibold mb-4\">\n              {article.category}\n            </span>\n          )}\n\n          <h1 className=\"text-4xl md:text-5xl font-poppins font-bold text-dark mb-6\">\n            {article.title}\n          </h1>\n\n          <div className=\"flex flex-col md:flex-row md:items-center gap-4 mb-8 pb-8 border-b border-gray-200\">\n            <div className=\"flex items-center gap-2 text-secondary\">\n              <Calendar className=\"w-5 h-5 text-accent\" />\n              <span className=\"font-roboto\">\n                {t.blog.publishedOn} {formatDate(article.publishedAt)}\n              </span>\n            </div>\n            {article.author && (\n              <div className=\"flex items-center gap-2 text-secondary\">\n                <User className=\"w-5 h-5 text-accent\" />\n                <span className=\"font-roboto\">\n                  {t.blog.by} {article.author}\n                </span>\n              </div>\n            )}\n          </div>\n\n          {article.image && getImageUrl(article.image) && (\n            <div className=\"mb-12 rounded-xl overflow-hidden shadow-lg\">\n              <img\n                src={getImageUrl(article.image)}\n                alt={article.title}\n                className=\"w-full h-auto object-cover\"\n              />\n            </div>\n          )}\n\n          <div className=\"mb-12\">\n            {article.content && (\n              <div className=\"font-roboto text-secondary leading-relaxed prose prose-lg max-w-none\">\n                <ReactMarkdown\n                  components={{\n                    h1: ({ node, ...props }) => (\n                      <h1\n                        className=\"text-3xl font-poppins font-bold text-dark mt-8 mb-4\"\n                        {...props}\n                      />\n                    ),\n                    h2: ({ node, ...props }) => (\n                      <h2\n                        className=\"text-2xl font-poppins font-bold text-dark mt-6 mb-3\"\n                        {...props}\n                      />\n                    ),\n                    h3: ({ node, ...props }) => (\n                      <h3\n                        className=\"text-xl font-poppins font-bold text-dark mt-4 mb-2\"\n                        {...props}\n                      />\n                    ),\n                    p: ({ node, ...props }) => (\n                      <p className=\"mb-4 leading-relaxed\" {...props} />\n                    ),\n                    ul: ({ node, ...props }) => (\n                      <ul\n                        className=\"list-disc list-inside mb-4 space-y-2\"\n                        {...props}\n                      />\n                    ),\n                    ol: ({ node, ...props }) => (\n                      <ol\n                        className=\"list-decimal list-inside mb-4 space-y-2\"\n                        {...props}\n                      />\n                    ),\n                    li: ({ node, ...props }) => (\n                      <li className=\"mb-2\" {...props} />\n                    ),\n                    blockquote: ({ node, ...props }) => (\n                      <blockquote\n                        className=\"border-l-4 border-accent pl-4 italic my-4 text-secondary\"\n                        {...props}\n                      />\n                    ),\n                    code: ({ node, inline, ...props }) =>\n                      inline ? (\n                        <code\n                          className=\"bg-gray-100 px-2 py-1 rounded text-sm font-mono text-accent\"\n                          {...props}\n                        />\n                      ) : (\n                        <code\n                          className=\"block bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto font-mono text-sm mb-4\"\n                          {...props}\n                        />\n                      ),\n                    a: ({ node, ...props }) => (\n                      <a className=\"text-accent hover:underline\" {...props} />\n                    ),\n                  }}\n                >\n                  {article.content}\n                </ReactMarkdown>\n              </div>\n            )}\n          </div>\n\n          {relatedArticles.length > 0 && (\n            <div className=\"mt-16 pt-8 border-t border-gray-200\">\n              <h2 className=\"text-2xl font-poppins font-bold text-dark mb-8\">\n                {t.blog.relatedArticles}\n              </h2>\n\n              <div className=\"grid md:grid-cols-3 gap-8\">\n                {relatedArticles.map((relatedArticle) => (\n                  <Link\n                    key={relatedArticle._id}\n                    href={`/blog/${relatedArticle.slug.current}`}\n                    className=\"group\"\n                  >\n                    <article className=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 h-full flex flex-col\">\n                      {relatedArticle.image &&\n                        getImageUrl(relatedArticle.image) && (\n                          <div className=\"relative h-40 overflow-hidden bg-gray-200\">\n                            <img\n                              src={getImageUrl(relatedArticle.image)}\n                              alt={relatedArticle.title}\n                              className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300\"\n                            />\n                          </div>\n                        )}\n\n                      <div className=\"p-4 flex flex-col flex-grow\">\n                        {relatedArticle.category && (\n                          <span className=\"inline-block bg-accent/10 text-accent px-3 py-1 rounded-full text-xs font-poppins font-semibold mb-2 w-fit\">\n                            {relatedArticle.category}\n                          </span>\n                        )}\n\n                        <h3 className=\"text-lg font-poppins font-bold text-dark mb-2 group-hover:text-accent transition-colors line-clamp-2\">\n                          {relatedArticle.title}\n                        </h3>\n\n                        <p className=\"text-sm text-secondary font-roboto flex-grow line-clamp-2 mb-3\">\n                          {relatedArticle.excerpt}\n                        </p>\n\n                        <div className=\"flex items-center gap-2 text-accent font-poppins font-semibold text-sm group-hover:gap-3 transition-all\">\n                          {t.blog.readMore}\n                          <ArrowRight className=\"w-3 h-3\" />\n                        </div>\n                      </div>\n                    </article>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          )}\n        </article>\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}