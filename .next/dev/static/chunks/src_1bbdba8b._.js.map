{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/baptisteblacksheep/Documents/PERSO/ELIAMAN/VITRINE/src/lib/sanity.js"],"sourcesContent":["import { createClient } from \"@sanity/client\";\n\nexport const getImageUrl = (image) => {\n  if (!image) return null;\n  if (typeof image === \"string\") return image;\n  if (image.asset?.url) return image.asset.url;\n  if (image.url) return image.url;\n  return null;\n};\n\nconst projectId = process.env.NEXT_PUBLIC_SANITY_PROJECT_ID || \"\";\nconst dataset = process.env.NEXT_PUBLIC_SANITY_DATASET || \"production\";\nconst token = process.env.NEXT_PUBLIC_SANITY_API_READ_TOKEN || \"\";\nconst apiVersion = \"2024-01-01\";\n\nlet sanityClient = null;\n\nif (projectId) {\n  sanityClient = createClient({\n    projectId,\n    dataset,\n    apiVersion,\n    token,\n    useCdn: false,\n  });\n}\n\nexport const fetchArticles = async () => {\n  if (!sanityClient) {\n    console.warn(\n      \"Sanity client not configured. Please set NEXT_PUBLIC_SANITY_PROJECT_ID in .env.local\"\n    );\n    return [];\n  }\n\n  const query = `*[_type == \"article\"] | order(publishedAt desc) {\n    _id,\n    title,\n    slug,\n    excerpt,\n    content,\n    image {\n      asset -> {\n        url\n      }\n    },\n    author,\n    publishedAt,\n    category\n  }`;\n\n  try {\n    const articles = await sanityClient.fetch(query);\n    return articles;\n  } catch (error) {\n    console.error(\"Error fetching articles from Sanity:\", error);\n    return [];\n  }\n};\n\nexport const fetchArticleBySlug = async (slug) => {\n  if (!sanityClient) {\n    console.warn(\n      \"Sanity client not configured. Please set NEXT_PUBLIC_SANITY_PROJECT_ID in .env.local\"\n    );\n    return null;\n  }\n\n  const query = `*[_type == \"article\" && slug.current == $slug][0] {\n    _id,\n    title,\n    slug,\n    excerpt,\n    content,\n    image {\n      asset -> {\n        url\n      }\n    },\n    author,\n    publishedAt,\n    category,\n    seo {\n      metaTitle,\n      metaDescription,\n      ogImage {\n        asset -> {\n          url\n        }\n      }\n    }\n  }`;\n\n  try {\n    const article = await sanityClient.fetch(query, { slug });\n    return article;\n  } catch (error) {\n    console.error(\"Error fetching article from Sanity:\", error);\n    return null;\n  }\n};\n\nexport const fetchArticlesByCategory = async (category) => {\n  if (!sanityClient) {\n    console.warn(\n      \"Sanity client not configured. Please set NEXT_PUBLIC_SANITY_PROJECT_ID in .env.local\"\n    );\n    return [];\n  }\n\n  const query = `*[_type == \"article\" && category == $category] | order(publishedAt desc) {\n    _id,\n    title,\n    slug,\n    excerpt,\n    image {\n      asset -> {\n        url\n      }\n    },\n    author,\n    publishedAt,\n    category\n  }`;\n\n  try {\n    const articles = await sanityClient.fetch(query, { category });\n    return articles;\n  } catch (error) {\n    console.error(\"Error fetching articles by category from Sanity:\", error);\n    return [];\n  }\n};\n"],"names":[],"mappings":";;;;;;;;;;AAUkB;AAVlB;;AAEO,MAAM,cAAc,CAAC;IAC1B,IAAI,CAAC,OAAO,OAAO;IACnB,IAAI,OAAO,UAAU,UAAU,OAAO;IACtC,IAAI,MAAM,KAAK,EAAE,KAAK,OAAO,MAAM,KAAK,CAAC,GAAG;IAC5C,IAAI,MAAM,GAAG,EAAE,OAAO,MAAM,GAAG;IAC/B,OAAO;AACT;AAEA,MAAM,YAAY,gDAA6C;AAC/D,MAAM,UAAU,kDAA0C;AAC1D,MAAM,QAAQ,4NAAiD;AAC/D,MAAM,aAAa;AAEnB,IAAI,eAAe;AAEnB,wCAAe;IACb,eAAe,IAAA,iMAAY,EAAC;QAC1B;QACA;QACA;QACA;QACA,QAAQ;IACV;AACF;AAEO,MAAM,gBAAgB;IAC3B,IAAI,CAAC,cAAc;QACjB,QAAQ,IAAI,CACV;QAEF,OAAO,EAAE;IACX;IAEA,MAAM,QAAQ,CAAC;;;;;;;;;;;;;;GAcd,CAAC;IAEF,IAAI;QACF,MAAM,WAAW,MAAM,aAAa,KAAK,CAAC;QAC1C,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wCAAwC;QACtD,OAAO,EAAE;IACX;AACF;AAEO,MAAM,qBAAqB,OAAO;IACvC,IAAI,CAAC,cAAc;QACjB,QAAQ,IAAI,CACV;QAEF,OAAO;IACT;IAEA,MAAM,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;GAuBd,CAAC;IAEF,IAAI;QACF,MAAM,UAAU,MAAM,aAAa,KAAK,CAAC,OAAO;YAAE;QAAK;QACvD,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,OAAO;IACT;AACF;AAEO,MAAM,0BAA0B,OAAO;IAC5C,IAAI,CAAC,cAAc;QACjB,QAAQ,IAAI,CACV;QAEF,OAAO,EAAE;IACX;IAEA,MAAM,QAAQ,CAAC;;;;;;;;;;;;;GAad,CAAC;IAEF,IAAI;QACF,MAAM,WAAW,MAAM,aAAa,KAAK,CAAC,OAAO;YAAE;QAAS;QAC5D,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oDAAoD;QAClE,OAAO,EAAE;IACX;AACF"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///Users/baptisteblacksheep/Documents/PERSO/ELIAMAN/VITRINE/src/app/blog/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useLanguage } from \"@/contexts/LanguageContext\";\nimport { fetchArticles, getImageUrl } from \"@/lib/sanity\";\nimport { ArrowRight, Calendar, User } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\n\ninterface Article {\n  _id: string;\n  title: string;\n  slug: { current: string };\n  excerpt: string;\n  image: any;\n  author: string;\n  publishedAt: string;\n  category: string;\n}\n\nexport default function BlogPage() {\n  const { t } = useLanguage();\n  const [articles, setArticles] = useState<Article[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadArticles = async () => {\n      try {\n        const data = await fetchArticles();\n        setArticles(data || []);\n      } catch (error) {\n        console.error(\"Error fetching articles:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadArticles();\n  }, []);\n\n  const filteredArticles = selectedCategory\n    ? articles.filter((article) => article.category === selectedCategory)\n    : articles;\n\n  const categories = [\n    ...new Set(articles.map((article) => article.category).filter(Boolean)),\n  ];\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"fr-FR\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  };\n\n  return (\n    <section id=\"blog\" className=\"py-20 bg-primary pt-32\">\n      <div className=\"container mx-auto px-6\">\n        {/* Header */}\n        <div className=\"text-center mb-16 animate-fade-in-up\">\n          <h2 className=\"text-4xl md:text-5xl font-poppins font-bold text-dark mb-4\">\n            {t.blog.title}\n          </h2>\n          <p className=\"text-xl text-secondary font-roboto max-w-2xl mx-auto\">\n            {t.blog.subtitle}\n          </p>\n        </div>\n\n        {/* Category Filter */}\n        {categories.length > 0 && (\n          <div className=\"flex flex-wrap justify-center gap-3 mb-12\">\n            <button\n              onClick={() => setSelectedCategory(null)}\n              className={`px-6 py-2 rounded-full font-poppins font-semibold transition-all duration-300 ${\n                selectedCategory === null\n                  ? \"bg-accent text-white\"\n                  : \"bg-gray-200 text-dark hover:bg-gray-300\"\n              }`}\n            >\n              Tous\n            </button>\n            {categories.map((category) => (\n              <button\n                key={category}\n                onClick={() => setSelectedCategory(category)}\n                className={`px-6 py-2 rounded-full font-poppins font-semibold transition-all duration-300 ${\n                  selectedCategory === category\n                    ? \"bg-accent text-white\"\n                    : \"bg-gray-200 text-dark hover:bg-gray-300\"\n                }`}\n              >\n                {category}\n              </button>\n            ))}\n          </div>\n        )}\n\n        {/* Articles Grid */}\n        {loading ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-secondary font-roboto\">Chargement...</p>\n          </div>\n        ) : filteredArticles.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-secondary font-roboto\">{t.blog.noArticles}</p>\n          </div>\n        ) : (\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            {filteredArticles.map((article, index) => (\n              <Link\n                key={article._id}\n                href={`/blog/${article.slug.current}`}\n                className=\"group h-full\"\n                style={{\n                  animation: `fadeInUp 0.8s ease-out forwards`,\n                  animationDelay: `${index * 0.1}s`,\n                  opacity: 0,\n                }}\n              >\n                <article className=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 h-full flex flex-col\">\n                  {/* Image */}\n                  {article.image && getImageUrl(article.image) && (\n                    <div className=\"relative h-48 overflow-hidden bg-gray-200\">\n                      <img\n                        src={getImageUrl(article.image)}\n                        alt={article.title}\n                        className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300\"\n                      />\n                    </div>\n                  )}\n\n                  {/* Content */}\n                  <div className=\"p-6 flex flex-col flex-grow\">\n                    {/* Category Badge */}\n                    {article.category && (\n                      <span className=\"inline-block bg-accent/10 text-accent px-3 py-1 rounded-full text-sm font-poppins font-semibold mb-3 w-fit\">\n                        {article.category}\n                      </span>\n                    )}\n\n                    {/* Title */}\n                    <h3 className=\"text-xl font-poppins font-bold text-dark mb-3 group-hover:text-accent transition-colors line-clamp-2\">\n                      {article.title}\n                    </h3>\n\n                    {/* Excerpt */}\n                    <p className=\"text-secondary font-roboto mb-4 flex-grow line-clamp-3\">\n                      {article.excerpt}\n                    </p>\n\n                    {/* Meta */}\n                    <div className=\"flex flex-col gap-3 pt-4 border-t border-gray-200\">\n                      <div className=\"flex items-center gap-4 text-sm text-secondary\">\n                        <div className=\"flex items-center gap-1\">\n                          <Calendar className=\"w-4 h-4\" />\n                          <span>{formatDate(article.publishedAt)}</span>\n                        </div>\n                        {article.author && (\n                          <div className=\"flex items-center gap-1\">\n                            <User className=\"w-4 h-4\" />\n                            <span>{article.author}</span>\n                          </div>\n                        )}\n                      </div>\n\n                      {/* CTA */}\n                      <div className=\"flex items-center gap-2 text-accent font-poppins font-semibold group-hover:gap-3 transition-all\">\n                        {t.blog.readMore}\n                        <ArrowRight className=\"w-4 h-4\" />\n                      </div>\n                    </div>\n                  </div>\n                </article>\n              </Link>\n            ))}\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}